{% extends 'base.html.twig' %}

{% block title %}Calendrier des Affectations{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fullcalendar@5.10.1/main.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="{{ asset('css/calendar.css') }}">
    
{% endblock %}

{% block body %}
    <div class="calendar-page">
        <nav class="navbar">
            <div class="navbar-left">
                <img src="{{ asset('images/logo.png') }}" alt="Logo" class="logo-img">
                <div class="navbar-brand">TeamBuild</div>
                <ul class="navbar-nav">
                    <li class="nav-item"><a href="{{ path('admin') }}" class="nav-link">Dashboard</a></li>
                    <li class="nav-item"><a href="#" class="nav-link">Chantier</a></li>
                    <li class="nav-item"><a href="#" class="nav-link">Ouvrier</a></li>
                </ul>
            </div>
            <div class="logout-icon">
                <i class="fas fa-sign-out-alt"></i>
            </div>
        </nav>
        
        <div class="main-container">
            <div class="sidebar">
                <div class="sidebar-title">Type de chantier</div>
                <ul class="sidebar-menu">
                    <li><a href="#" data-id="structura">Structura</a></li>
                    <li><a href="#" data-id="pylone">Pyl√¥ne</a></li>
                    <li class="active"><a href="#" data-id="monolithe">Monolithe</a></li>
                </ul>
            </div>
            
            <div class="content">
                <div class="content-header">
                    <h2 class="content-title">Calendrier des Affectations</h2>
                    <a href="{{ path('admin') }}" class="detail-button">Retour dashboard</a>
                </div>
                
                <div id="calendar-container">
                    <div id="calendar"></div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.10.1/main.min.js"></script>
    <script>
        const affectations = {{ affectations|raw }};
    </script>
    <script src="{{ asset('js/calendar.js') }}"></script>
{% endblock %}